{% liquid
    if settings.enable_currencies
        if settings.currency_type == 'shopify_payment'
            assign enable_shopify_payments_currencies = true
            assign enable_multiple_currencies = false
            assign enable_auto_currency = false 
        elsif settings.currency_type == 'multiple_currencies'
            assign enable_shopify_payments_currencies = false
            assign enable_multiple_currencies = true
            assign enable_auto_currency = false 
        elsif settings.currency_type == 'auto_currencies'
            assign enable_shopify_payments_currencies = false
            assign enable_multiple_currencies = false
            assign enable_auto_currency = true 
        endif
    else 
        assign enable_shopify_payments_currencies = false
        assign enable_multiple_currencies = false
        assign enable_auto_currency = false 
    endif
%}
{%- if enable_multiple_currencies or enable_shopify_payments_currencies -%}
<div class="halo-currency">
	<link rel="stylesheet" href="{{ 'currency.css' | asset_url }}" media="all" onload="this.media='all'">
	<noscript>{{ 'currency.css' | asset_url | stylesheet_tag }}</noscript>
	<div class="currency-block">
        <div class="btn-group currency-dropdown">
            <p class="title"> Regions </p>
            <div class="dropdown-menu currency-menu custom-scrollbar d-flex flex-align-center flex-wrap" id="currencies">
                <a class="dropdown-item current_country_items" href="javascript:void(0);"  role="button">
                  <span class="icon" role="text" aria-label="currency">
                    <img alt="United States Flag" class="lazy lazy-loaded" src="https://cdn.shopify.com/s/files/1/0579/0839/6145/files/flag_US.webp?v=1716273948" width="auto" height="auto" />
                  </span>
                  <span class="text current_text" role="text" aria-label="currency">United States
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M7 13L10 16L17 9" stroke="#19A037" stroke-width="2" stroke-linecap="square" stroke-linejoin="round"/>
                    </svg>
                  </span>
                </a>
               <a class="dropdown-item" href="https://blacklyte.eu"  role="button">
                  <span class="icon" role="text" aria-label="currency">
                    <img alt="Europe Flag" class="lazy lazy-loaded" src="https://cdn.shopify.com/shopifycloud/web/assets/v1/9886b4168efb1ebf48006093aa9807c5.svg" width="auto" height="auto" />
                  </span>
                  <span class="text" role="text" aria-label="currency">
                    Europe
                  </span>
              </a>
                <a class="dropdown-item" href="https://blacklyte.ca"  role="button">
                  <span class="icon" role="text" aria-label="currency">
                    <img alt="Canada Flag" class="lazy lazy-loaded" src="https://cdn.shopify.com/s/files/1/0579/0839/6145/files/flag_CA.jpg?v=1716273948" width="auto" height="auto" />
                  </span>
                  <span class="text" role="text" aria-label="currency">Canada</span>
                </a>
                <a class="dropdown-item" href="https://goblacklyte.uk"  role="button">
                  <span class="icon" role="text" aria-label="currency">
                    <img alt="United Kingdom Flag" class="lazy lazy-loaded" src="https://cdn.shopify.com/s/files/1/0579/0839/6145/files/flag_UK.webp?v=1716275576" width="auto" height="auto" />
                  </span>
                  <span class="text" role="text" aria-label="currency">United Kingdom</span>
                </a>
                <!-- Japan -->
                <a class="dropdown-item" href="https://blacklyte.jp"  role="button">
                  <span class="icon" role="text" aria-label="currency">
                    <img alt="Japan Flag" class="lazy lazy-loaded" src="https://cdn.shopify.com/s/files/1/0663/6742/2695/files/flag_JP.jpg?v=1729072751" width="auto" height="auto" style="border: 1px solid #f5f5f5;" />
                  </span>
                  <span class="text" role="text" aria-label="currency">Japan</span>
                </a>
                <a class="dropdown-item" href="https://blacklyte.au"  role="button">
                  <span class="icon" role="text" aria-label="currency">
                    <img alt="Australia Flag" class="lazy lazy-loaded" src="https://cdn.shopify.com/s/files/1/0663/6742/2695/files/flag_AU.webp?v=1732072302" width="auto" height="auto" style="border: 1px solid #f5f5f5;" />
                  </span>
                  <span class="text" role="text" aria-label="currency">Australia</span>
                </a>
            </div>
        </div>
    </div>
</div>
{%- endif -%}
<style>
  .halo-currency .currency-menu .icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 30px;
    height: auto;
  }
  .dropdown-item {
    width: 100%;
  }
  .dropdown-item:not(:last-of-type) {
    border-bottom:1px solid #eeeeee;
  }
  .halo-top-currency .text {
    text-transform: none;
    white-space: nowrap;
    font-size: 14px;
  }
  .dropdown-language.show, .dropdown-currency.show {
    top: calc(100% + 12px);
    border-top: 1px solid #A1A1AA;
  }
  .halo-sidebar_menu .halo-currency .title {
    color: #000;
  }
  .current_country_items {
    background-color: #F5F5F5;
  }
  .current_country_items .current_text {
    width: calc(100% - 46px);
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .text svg {
    width: 24px;
    height: 24px;
    fill: aliceblue;
    stroke: aliceblue;
  }
  /* APP or Pad  */
  @media (max-width: 1024px) {
    .halo-sidebar_menu .halo-currency .currency-menu {
      flex-direction: column;
    }
    .halo-sidebar_menu .halo-currency .currency-menu .dropdown-item {
      width: 100%;
    }
  }
</style>